%
\begin{isabellebody}%
\setisabellecontext{ConsensusSafety}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Safety Proof%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ ConsensusSafety\isanewline
\isanewline
\isakeyword{imports}\ Main\ CBCCasper\ MessageJustification\ StateTransition\ {\isachardoublequoteopen}Libraries{\isacharslash}LaTeXsugar{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ monotonic{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ futures\ {\isasymsigma}{\isacharprime}\ {\isasymsubseteq}\ futures\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ two{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ futures\ {\isasymsigma}{\isadigit{1}}\ {\isasyminter}\ futures\ {\isasymsigma}{\isadigit{2}}\ {\isasymnoteq}\ {\isasymemptyset}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}two{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}\ {\isasymnoteq}\ {\isasymemptyset}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}finite{\isacharunderscore}set{\isacharunderscore}of{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}finite{\isacharunderscore}set{\isacharunderscore}of{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}state{\isacharunderscore}property\ {\isacharasterisk}\ state{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardot}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ {\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ forward{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ \isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ state{\isacharunderscore}property{\isacharunderscore}not\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ {\isasymRightarrow}\ state{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ backword{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ \isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymnot}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ two{\isacharunderscore}party{\isacharunderscore}consensus{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}state{\isacharunderscore}property\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymnot}{\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isadigit{1}}{\isacharparenright}\ {\isasymand}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ two{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Int{\isacharunderscore}emptyI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}inconsistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}inconsistent\ p{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymnot}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ p{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state\ {\isasymRightarrow}\ state{\isacharunderscore}property\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharequal}\ {\isacharbraceleft}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}state{\isacharunderscore}properties\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ rule{\isacharplus}\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set{\isacharcolon}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isacharparenleft}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s\ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}s{\isacharparenright}\ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subset{\isacharunderscore}eq\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ futures{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}s{\isacharparenright}\ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p\ {\isasymin}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isasymSigma}t{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p\ {\isasymin}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymforall}p{\isasymin}state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymforall}p{\isasymin}state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}\ {\isasymin}\ {\isasymSigma}t{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymforall}{\isasymsigma}{\isacharprime}{\isasymin}futures\ {\isasymsigma}{\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ {\isasymSigma}t{\isacharunderscore}def\ {\isacartoucheopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymforall}{\isasymsigma}{\isacharprime}{\isasymin}futures\ {\isasymsigma}{\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isacartoucheclose}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq\ monotonic{\isacharunderscore}futures\ order{\isacharunderscore}refl{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isasymRightarrow}\ state{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}\ c\ {\isasymin}\ C{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ q{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ q{\isacharunderscore}set\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ {\isacharbraceleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ {\isacharbraceleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c{\isacharparenright}\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymexists}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ all{\isacharunderscore}not{\isacharunderscore}in{\isacharunderscore}conv\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymexists}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ c\ {\isasymin}\ C{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}valid{\isacharunderscore}estimator{\isacharunderscore}def\ {\isasymepsilon}{\isacharunderscore}type\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ \ \ {\isasymLongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isacharasterisk}\ state{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ \isanewline
\ \ \ \ \ \ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state\ {\isasymRightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharequal}\ {\isacharbraceleft}q{\isachardot}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}consensus{\isacharunderscore}value{\isacharunderscore}properties\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}state{\isacharunderscore}properties\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}p\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymexists}\ q{\isachardot}\ p\ {\isacharequal}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ meson\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}smt\ Collect{\isacharunderscore}cong{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ naturally{\isacharunderscore}corresponding{\isacharunderscore}consistency\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ Setcompr{\isacharunderscore}eq{\isacharunderscore}image\ {\isacartoucheopen}{\isasymforall}q{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isacartoucheclose}\ {\isacartoucheopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isacartoucheclose}\ setcompr{\isacharunderscore}eq{\isacharunderscore}image{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isasymRightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ negation{\isacharunderscore}is{\isacharunderscore}not{\isacharunderscore}decided{\isacharunderscore}by{\isacharunderscore}other{\isacharunderscore}validator\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}\ p{\isachardot}\ {\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}\ p\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}{\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ forward{\isacharunderscore}consistency\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharparenright}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ backword{\isacharunderscore}consistency\ {\isacartoucheopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymSigma}t{\isacharunderscore}def\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty\ futures{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\ \ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}consensus{\isacharunderscore}safety\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymnotin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\ p\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}{\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}p\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}p\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ forward{\isacharunderscore}consistency\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ forward{\isacharunderscore}consistency\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ {\isasymSigma}t{\isacharunderscore}is{\isacharunderscore}subset{\isacharunderscore}of{\isacharunderscore}{\isasymSigma}\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty\ monotonic{\isacharunderscore}futures\ order{\isacharunderscore}refl\ subsetCE{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ two{\isacharunderscore}party{\isacharunderscore}consensus{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isadigit{1}}{\isacharparenright}\ \isanewline
\ \ {\isasymlongrightarrow}\ {\isasymnot}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ two{\isacharunderscore}party{\isacharcolon}\ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isacharbraceleft}{\isasymsigma}{\isadigit{1}}{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}{\isasymsigma}{\isadigit{1}}{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharbraceright}{\isacharparenright}\isanewline
\ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isadigit{1}}\ \isanewline
\ \ \ \ \ \ \ \ \ \ \ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isadigit{2}}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ negation{\isacharunderscore}is{\isacharunderscore}not{\isacharunderscore}decided{\isacharunderscore}by{\isacharunderscore}other{\isacharunderscore}validator\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ finite{\isachardot}emptyI\ finite{\isachardot}insertI\ order{\isacharunderscore}refl{\isacharparenright}\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isadigit{1}}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}{\isachardoublequoteclose}\ \ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ two{\isacharunderscore}party\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\ \ \ \ \isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}consensus{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}power{\isacharunderscore}set{\isacharunderscore}of{\isacharunderscore}decisions\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}\ p{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p{\isacharunderscore}set\ {\isasymin}\ Pow\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}\ {\isacharminus}\ {\isacharbraceleft}{\isasymemptyset}{\isacharbraceright}\ \isanewline
\ \ \ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isasymnot}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsigma}\ p{\isacharunderscore}set\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}{\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p{\isacharunderscore}set\ {\isasymin}\ Pow\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}\ {\isacharminus}\ {\isacharbraceleft}{\isasymemptyset}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isasymnot}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ {\isasymexists}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ \ {\isacartoucheopen}{\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p{\isacharunderscore}set\ {\isasymin}\ Pow\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}\ {\isacharminus}\ {\isacharbraceleft}{\isasymemptyset}{\isacharbraceright}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ forward{\isacharunderscore}consistency\ {\isacartoucheopen}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ {\isasymexists}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isacartoucheclose}\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ subsetCE{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ c{\isacharparenright}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ False\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isasymnot}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ c{\isacharparenright}{\isacharparenright}\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\ \ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ \ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ \ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymSigma}t{\isacharunderscore}is{\isacharunderscore}subset{\isacharunderscore}of{\isacharunderscore}{\isasymSigma}\ {\isacartoucheopen}{\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p{\isacharunderscore}set\ {\isasymin}\ Pow\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}\ {\isacharbar}\ {\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}\ {\isacharminus}\ {\isacharbraceleft}{\isasymemptyset}{\isacharbraceright}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty\ monotonic{\isacharunderscore}futures\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/work/LayerXcom/cbc-casper-proof/Isabelle/ConsensusSafety.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%32=7%:%
%:%37=7%:%
%:%40=8%:%
%:%41=9%:%
%:%42=10%:%
%:%43=11%:%
%:%44=12%:%
%:%45=13%:%
%:%46=13%:%
%:%47=14%:%
%:%48=15%:%
%:%51=16%:%
%:%55=16%:%
%:%56=16%:%
%:%57=16%:%
%:%62=16%:%
%:%65=17%:%
%:%66=18%:%
%:%67=19%:%
%:%68=19%:%
%:%69=20%:%
%:%71=22%:%
%:%74=23%:%
%:%78=23%:%
%:%79=23%:%
%:%80=23%:%
%:%81=24%:%
%:%82=24%:%
%:%87=24%:%
%:%90=25%:%
%:%91=26%:%
%:%92=27%:%
%:%93=27%:%
%:%94=28%:%
%:%97=31%:%
%:%100=32%:%
%:%104=32%:%
%:%105=32%:%
%:%106=32%:%
%:%107=33%:%
%:%108=33%:%
%:%113=33%:%
%:%116=34%:%
%:%117=35%:%
%:%118=35%:%
%:%119=36%:%
%:%122=39%:%
%:%125=40%:%
%:%129=40%:%
%:%130=40%:%
%:%131=40%:%
%:%132=41%:%
%:%133=41%:%
%:%138=41%:%
%:%141=42%:%
%:%142=43%:%
%:%143=44%:%
%:%144=45%:%
%:%145=46%:%
%:%146=47%:%
%:%147=47%:%
%:%148=48%:%
%:%149=49%:%
%:%150=50%:%
%:%151=51%:%
%:%152=52%:%
%:%153=52%:%
%:%154=53%:%
%:%157=56%:%
%:%160=57%:%
%:%164=57%:%
%:%165=57%:%
%:%166=58%:%
%:%167=58%:%
%:%172=58%:%
%:%175=59%:%
%:%176=60%:%
%:%177=61%:%
%:%178=61%:%
%:%179=62%:%
%:%180=63%:%
%:%181=64%:%
%:%182=65%:%
%:%183=65%:%
%:%184=66%:%
%:%187=69%:%
%:%190=70%:%
%:%194=70%:%
%:%195=70%:%
%:%196=71%:%
%:%197=71%:%
%:%202=71%:%
%:%205=72%:%
%:%206=73%:%
%:%207=74%:%
%:%208=74%:%
%:%209=75%:%
%:%211=77%:%
%:%214=78%:%
%:%218=78%:%
%:%219=78%:%
%:%220=79%:%
%:%221=79%:%
%:%222=80%:%
%:%223=80%:%
%:%228=80%:%
%:%231=81%:%
%:%232=82%:%
%:%233=83%:%
%:%234=83%:%
%:%235=84%:%
%:%236=85%:%
%:%237=86%:%
%:%238=87%:%
%:%239=88%:%
%:%240=88%:%
%:%241=89%:%
%:%242=90%:%
%:%243=91%:%
%:%244=92%:%
%:%245=93%:%
%:%246=93%:%
%:%247=94%:%
%:%248=95%:%
%:%249=96%:%
%:%250=97%:%
%:%251=98%:%
%:%252=98%:%
%:%253=99%:%
%:%256=102%:%
%:%259=103%:%
%:%263=103%:%
%:%264=103%:%
%:%265=104%:%
%:%266=104%:%
%:%267=105%:%
%:%268=105%:%
%:%269=106%:%
%:%270=106%:%
%:%271=107%:%
%:%272=108%:%
%:%273=109%:%
%:%274=109%:%
%:%275=110%:%
%:%276=110%:%
%:%277=110%:%
%:%278=111%:%
%:%279=111%:%
%:%280=112%:%
%:%281=112%:%
%:%282=113%:%
%:%283=113%:%
%:%284=114%:%
%:%285=114%:%
%:%286=115%:%
%:%287=115%:%
%:%288=116%:%
%:%289=116%:%
%:%290=117%:%
%:%291=117%:%
%:%292=118%:%
%:%293=118%:%
%:%294=119%:%
%:%295=119%:%
%:%296=120%:%
%:%297=120%:%
%:%298=121%:%
%:%299=121%:%
%:%300=122%:%
%:%301=122%:%
%:%302=122%:%
%:%303=123%:%
%:%304=123%:%
%:%305=124%:%
%:%306=124%:%
%:%307=124%:%
%:%308=125%:%
%:%309=125%:%
%:%310=126%:%
%:%311=126%:%
%:%312=126%:%
%:%313=127%:%
%:%314=127%:%
%:%315=128%:%
%:%316=128%:%
%:%317=129%:%
%:%318=129%:%
%:%319=130%:%
%:%320=130%:%
%:%321=131%:%
%:%322=131%:%
%:%323=132%:%
%:%324=132%:%
%:%325=133%:%
%:%331=133%:%
%:%334=134%:%
%:%335=135%:%
%:%336=136%:%
%:%337=137%:%
%:%338=138%:%
%:%339=138%:%
%:%340=139%:%
%:%341=140%:%
%:%342=141%:%
%:%343=142%:%
%:%344=143%:%
%:%345=143%:%
%:%346=144%:%
%:%347=145%:%
%:%348=146%:%
%:%349=147%:%
%:%350=148%:%
%:%351=148%:%
%:%352=149%:%
%:%353=150%:%
%:%356=151%:%
%:%360=151%:%
%:%361=151%:%
%:%362=152%:%
%:%363=152%:%
%:%364=153%:%
%:%365=153%:%
%:%366=154%:%
%:%367=154%:%
%:%368=155%:%
%:%369=156%:%
%:%370=157%:%
%:%371=157%:%
%:%372=158%:%
%:%373=158%:%
%:%374=158%:%
%:%375=159%:%
%:%376=160%:%
%:%377=161%:%
%:%378=161%:%
%:%379=162%:%
%:%380=162%:%
%:%381=162%:%
%:%382=163%:%
%:%383=164%:%
%:%384=165%:%
%:%385=165%:%
%:%386=166%:%
%:%387=166%:%
%:%388=166%:%
%:%389=167%:%
%:%390=168%:%
%:%391=169%:%
%:%392=169%:%
%:%393=170%:%
%:%394=170%:%
%:%395=170%:%
%:%396=171%:%
%:%397=172%:%
%:%398=173%:%
%:%399=173%:%
%:%400=174%:%
%:%401=174%:%
%:%402=174%:%
%:%403=175%:%
%:%404=176%:%
%:%405=177%:%
%:%406=177%:%
%:%407=177%:%
%:%408=178%:%
%:%409=178%:%
%:%410=178%:%
%:%411=179%:%
%:%412=180%:%
%:%413=181%:%
%:%414=181%:%
%:%415=182%:%
%:%421=182%:%
%:%424=183%:%
%:%425=184%:%
%:%426=185%:%
%:%427=185%:%
%:%428=186%:%
%:%429=187%:%
%:%430=188%:%
%:%431=189%:%
%:%432=190%:%
%:%433=191%:%
%:%434=191%:%
%:%435=192%:%
%:%436=193%:%
%:%437=194%:%
%:%438=195%:%
%:%439=196%:%
%:%440=196%:%
%:%441=197%:%
%:%444=200%:%
%:%447=201%:%
%:%451=201%:%
%:%452=201%:%
%:%453=202%:%
%:%454=202%:%
%:%455=203%:%
%:%456=203%:%
%:%457=204%:%
%:%458=204%:%
%:%459=205%:%
%:%460=206%:%
%:%461=207%:%
%:%462=207%:%
%:%463=208%:%
%:%464=208%:%
%:%465=208%:%
%:%466=209%:%
%:%467=209%:%
%:%468=210%:%
%:%469=210%:%
%:%470=211%:%
%:%471=211%:%
%:%472=212%:%
%:%473=212%:%
%:%474=213%:%
%:%475=213%:%
%:%476=214%:%
%:%477=214%:%
%:%478=215%:%
%:%479=215%:%
%:%480=216%:%
%:%481=216%:%
%:%482=217%:%
%:%483=217%:%
%:%484=218%:%
%:%485=218%:%
%:%486=219%:%
%:%487=219%:%
%:%488=220%:%
%:%489=220%:%
%:%490=221%:%
%:%491=221%:%
%:%492=222%:%
%:%493=222%:%
%:%494=223%:%
%:%495=223%:%
%:%496=224%:%
%:%497=224%:%
%:%498=225%:%
%:%499=226%:%
%:%500=226%:%
%:%501=227%:%
%:%507=227%:%
%:%510=228%:%
%:%511=229%:%
%:%512=229%:%
%:%513=230%:%
%:%514=231%:%
%:%515=232%:%
%:%516=233%:%
%:%517=233%:%
%:%518=234%:%
%:%522=238%:%
%:%525=239%:%
%:%529=239%:%
%:%530=239%:%
%:%531=240%:%
%:%532=240%:%
%:%533=241%:%
%:%534=241%:%
%:%535=242%:%
%:%536=242%:%
%:%537=243%:%
%:%538=243%:%
%:%539=244%:%
%:%540=244%:%
%:%541=244%:%
%:%542=245%:%
%:%543=245%:%
%:%544=245%:%
%:%545=245%:%
%:%546=246%:%
%:%547=246%:%
%:%548=247%:%
%:%549=247%:%
%:%550=248%:%
%:%551=248%:%
%:%552=248%:%
%:%553=249%:%
%:%554=249%:%
%:%555=250%:%
%:%556=250%:%
%:%557=251%:%
%:%558=251%:%
%:%559=252%:%
%:%560=252%:%
%:%561=253%:%
%:%562=254%:%
%:%563=254%:%
%:%564=255%:%
%:%565=255%:%
%:%566=255%:%
%:%567=256%:%
%:%568=256%:%
%:%569=256%:%
%:%570=257%:%
%:%571=257%:%
%:%572=258%:%
%:%573=258%:%
%:%574=258%:%
%:%575=259%:%
%:%581=259%:%
%:%584=260%:%
%:%585=261%:%
%:%586=262%:%
%:%587=262%:%
%:%588=263%:%
%:%592=267%:%
%:%595=268%:%
%:%599=268%:%
%:%600=268%:%
%:%601=269%:%
%:%602=269%:%
%:%603=270%:%
%:%604=270%:%
%:%605=271%:%
%:%606=271%:%
%:%607=272%:%
%:%608=273%:%
%:%609=273%:%
%:%610=274%:%
%:%611=274%:%
%:%612=274%:%
%:%613=275%:%
%:%614=275%:%
%:%615=275%:%
%:%616=275%:%
%:%617=276%:%
%:%618=276%:%
%:%619=277%:%
%:%620=277%:%
%:%621=278%:%
%:%622=278%:%
%:%623=278%:%
%:%624=279%:%
%:%625=279%:%
%:%626=280%:%
%:%627=280%:%
%:%628=281%:%
%:%629=281%:%
%:%630=281%:%
%:%631=282%:%
%:%632=282%:%
%:%633=282%:%
%:%634=283%:%
%:%635=283%:%
%:%636=284%:%
%:%637=284%:%
%:%638=285%:%
%:%639=285%:%
%:%640=286%:%
%:%646=286%:%
%:%649=287%:%
%:%650=288%:%
%:%651=289%:%
%:%652=289%:%
%:%653=290%:%
%:%656=293%:%
%:%659=294%:%
%:%663=294%:%
%:%664=294%:%
%:%665=295%:%
%:%666=295%:%
%:%667=296%:%
%:%668=296%:%
%:%669=297%:%
%:%670=297%:%
%:%673=300%:%
%:%674=301%:%
%:%675=301%:%
%:%676=302%:%
%:%677=302%:%
%:%678=303%:%
%:%679=303%:%
%:%680=304%:%
%:%681=304%:%
%:%682=304%:%
%:%683=305%:%
%:%684=305%:%
%:%685=306%:%
%:%686=306%:%
%:%687=307%:%
%:%688=307%:%
%:%689=308%:%
%:%695=308%:%
%:%698=309%:%
%:%699=310%:%
%:%700=310%:%
%:%701=311%:%
%:%705=315%:%
%:%708=316%:%
%:%712=316%:%
%:%713=316%:%
%:%714=317%:%
%:%715=317%:%
%:%716=318%:%
%:%717=318%:%
%:%718=319%:%
%:%719=319%:%
%:%720=320%:%
%:%721=321%:%
%:%722=322%:%
%:%723=322%:%
%:%724=323%:%
%:%725=323%:%
%:%726=323%:%
%:%727=324%:%
%:%728=324%:%
%:%729=324%:%
%:%730=324%:%
%:%731=325%:%
%:%732=325%:%
%:%733=326%:%
%:%734=326%:%
%:%735=327%:%
%:%736=327%:%
%:%737=328%:%
%:%738=328%:%
%:%739=329%:%
%:%740=329%:%
%:%741=330%:%
%:%742=330%:%
%:%743=330%:%
%:%744=331%:%
%:%745=331%:%
%:%746=332%:%
%:%747=332%:%
%:%748=333%:%
%:%749=333%:%
%:%750=334%:%
%:%751=334%:%
%:%752=335%:%
%:%753=335%:%
%:%754=336%:%
%:%755=336%:%
%:%756=337%:%
%:%757=337%:%
%:%758=337%:%
%:%759=338%:%
%:%760=338%:%
%:%761=339%:%
%:%762=339%:%
%:%763=340%:%
%:%764=340%:%
%:%765=340%:%
%:%766=341%:%
%:%772=341%:%
%:%777=342%:%
%:%782=343%:%