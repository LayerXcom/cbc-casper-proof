%
\begin{isabellebody}%
\setisabellecontext{ConsensusSafety}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isatagdocument
%
\isamarkupsection{Safety Proof%
}
\isamarkuptrue%
%
\endisatagdocument
{\isafolddocument}%
%
\isadelimdocument
%
\endisadelimdocument
%
\isadelimtheory
%
\endisadelimtheory
%
\isatagtheory
\isacommand{theory}\isamarkupfalse%
\ ConsensusSafety\isanewline
\isanewline
\isakeyword{imports}\ Main\ CBCCasper\ StateTransition\ {\isachardoublequoteopen}Libraries{\isacharslash}LaTeXsugar{\isachardoublequoteclose}\isanewline
\isanewline
\isakeyword{begin}%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ futures\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state\ {\isasymRightarrow}\ state\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}futures\ {\isasymsigma}\ {\isacharequal}\ {\isacharbraceleft}{\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t{\isachardot}\ is{\isacharunderscore}future{\isacharunderscore}state\ {\isacharparenleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ monotonic{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ {\isasymlongleftrightarrow}\ futures\ {\isasymsigma}{\isacharprime}\ {\isasymsubseteq}\ futures\ {\isasymsigma}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def{\isacharparenright}\ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ two{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ futures\ {\isasymsigma}{\isadigit{1}}\ {\isasyminter}\ futures\ {\isasymsigma}{\isadigit{2}}\ {\isasymnoteq}\ {\isasymemptyset}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}two{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}\ {\isasymnoteq}\ {\isasymemptyset}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}finite{\isacharunderscore}set{\isacharunderscore}of{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ {\isasymSigma}t{\isacharunderscore}def{\isacharparenright}\ \isacommand{using}\isamarkupfalse%
\ union{\isacharunderscore}of{\isacharunderscore}finite{\isacharunderscore}set{\isacharunderscore}of{\isacharunderscore}states{\isacharunderscore}is{\isacharunderscore}state\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ blast%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}state{\isacharunderscore}property\ {\isacharasterisk}\ state{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ \ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardot}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ {\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ forward{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ \isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{fun}\isamarkupfalse%
\ state{\isacharunderscore}property{\isacharunderscore}not\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ {\isasymRightarrow}\ state{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ backword{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharprime}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymsigma}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}\ \isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymnot}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ auto%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\ \ \isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ two{\isacharunderscore}party{\isacharunderscore}consensus{\isacharunderscore}safety\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isadigit{1}}\ {\isasymsigma}{\isadigit{2}}{\isachardot}\ {\isasymsigma}{\isadigit{1}}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isadigit{2}}\ {\isasymin}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymsigma}{\isadigit{1}}\ {\isasymunion}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isasymnot}{\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isadigit{1}}{\isacharparenright}\ {\isasymand}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ p{\isacharcomma}\ {\isasymsigma}{\isadigit{2}}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{using}\isamarkupfalse%
\ two{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures\isanewline
\ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ Int{\isacharunderscore}emptyI{\isacharparenright}%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}inconsistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}inconsistent\ p{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymnot}\ {\isacharparenleft}{\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ p{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ p{\isacharunderscore}set{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state\ {\isasymRightarrow}\ state{\isacharunderscore}property\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharequal}\ {\isacharbraceleft}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}state{\isacharunderscore}properties\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ rule{\isacharplus}\isanewline
\isacommand{proof}\isamarkupfalse%
{\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set{\isacharcolon}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isacharparenleft}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s{\isacharparenright}\ {\isasymand}\ {\isacharparenleft}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}\ {\isasymin}\ futures\ s\ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}s{\isacharparenright}\ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ subset{\isacharunderscore}eq\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ futures{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}s{\isacharparenright}\ {\isasymlongrightarrow}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p\ {\isasymin}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
{\isacharminus}\isanewline
\ \ \ \ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}\ {\isasymin}\ {\isasymSigma}t{\isachardoublequoteclose}\ {\isachardoublequoteopen}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymforall}p\ {\isasymin}\ state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymforall}p{\isasymin}state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}{\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymforall}s{\isasymin}{\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymforall}p{\isasymin}state{\isacharunderscore}property{\isacharunderscore}decisions\ s{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}p{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \ \ \isacommand{thus}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}\ {\isasymin}\ {\isasymSigma}t{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymforall}{\isasymsigma}{\isacharprime}{\isasymin}futures\ {\isasymsigma}{\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ futures{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ {\isasymSigma}t{\isacharunderscore}def\ {\isacartoucheopen}{\isasymexists}{\isasymsigma}{\isasymin}{\isasymSigma}t{\isachardot}\ {\isasymforall}p{\isasymin}{\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymforall}{\isasymsigma}{\isacharprime}{\isasymin}futures\ {\isasymsigma}{\isachardot}\ p\ {\isasymsigma}{\isacharprime}{\isacartoucheclose}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq\ monotonic{\isacharunderscore}futures\ order{\isacharunderscore}refl{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isasymRightarrow}\ state{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\ \isanewline
\ \ \ \ {\isachardoublequoteopen}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ set\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set\ {\isacharequal}\ {\isacharparenleft}{\isasymexists}\ c\ {\isasymin}\ C{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{lemma}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}consistency\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ q{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ q{\isacharunderscore}set\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ \isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ {\isacharbraceleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ p\ {\isasymin}\ {\isacharbraceleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c\ {\isacharbar}\ q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ p\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}\ {\isasymsigma}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}mono{\isacharunderscore}tags{\isacharcomma}\ lifting{\isacharparenright}\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isacharparenleft}{\isasymlambda}{\isasymsigma}{\isacharprime}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isacharprime}{\isachardot}\ q\ c{\isacharparenright}\ {\isasymsigma}{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ blast\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymforall}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymexists}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}meson\ all{\isacharunderscore}not{\isacharunderscore}in{\isacharunderscore}conv\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty{\isacharparenright}\isanewline
\ \ \isacommand{moreover}\isamarkupfalse%
\ \isacommand{have}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}{\isacharparenleft}{\isasymexists}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}{\isachardot}\ {\isasymexists}\ c\ {\isasymin}\ {\isasymepsilon}\ {\isasymsigma}{\isachardot}\ {\isasymforall}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q\ c{\isacharparenright}\isanewline
\ \ \ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymexists}\ c\ {\isasymin}\ C{\isachardot}\ {\isasymforall}\ q{\isacharprime}\ {\isasymin}\ q{\isacharunderscore}set{\isachardot}\ q{\isacharprime}\ c{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ is{\isacharunderscore}valid{\isacharunderscore}estimator{\isacharunderscore}def\ {\isasymepsilon}{\isacharunderscore}type\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{ultimately}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\isanewline
\ \ \ \ {\isasymLongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}{\isacharparenleft}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isacharasterisk}\ state{\isacharparenright}\ {\isasymRightarrow}\ bool{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ \isanewline
\ \ \ \ \ \ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}{\isacharparenleft}q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isachardot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{definition}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}state\ {\isasymRightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property\ set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharequal}\ {\isacharbraceleft}q{\isachardot}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}q{\isacharcomma}\ {\isasymsigma}{\isacharparenright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}consensus{\isacharunderscore}value{\isacharunderscore}properties\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ n{\isacharunderscore}party{\isacharunderscore}safety{\isacharunderscore}for{\isacharunderscore}state{\isacharunderscore}properties\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}p\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardot}\ {\isasymexists}\ q{\isachardot}\ p\ {\isacharequal}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{unfolding}\isamarkupfalse%
\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ meson\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}\ q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}smt\ Collect{\isacharunderscore}cong{\isacharparenright}\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}\ {\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ naturally{\isacharunderscore}corresponding{\isacharunderscore}consistency\isanewline
\ \ \isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \ \ \isacommand{show}\isamarkupfalse%
\ {\isacharquery}thesis\isanewline
\ \ \ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ {\isacharparenleft}no{\isacharunderscore}types{\isacharparenright}\ Setcompr{\isacharunderscore}eq{\isacharunderscore}image\ {\isacartoucheopen}{\isasymforall}q{\isacharunderscore}set{\isachardot}\ state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ q\ {\isasymin}\ q{\isacharunderscore}set{\isacharbraceright}\ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ q{\isacharunderscore}set{\isacartoucheclose}\ {\isacartoucheopen}state{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharbraceleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isacharbar}q{\isachardot}\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ q\ {\isasymin}\ {\isasymUnion}{\isacharbraceleft}state{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}{\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharbraceright}{\isacartoucheclose}\ setcompr{\isacharunderscore}eq{\isacharunderscore}image{\isacharparenright}\isanewline
\ \ \isacommand{qed}\isamarkupfalse%
\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ {\isacharparenleft}metis\ mem{\isacharunderscore}Collect{\isacharunderscore}eq{\isacharparenright}\isanewline
\ \ \isacommand{thus}\isamarkupfalse%
\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}properties{\isacharunderscore}are{\isacharunderscore}consistent\ {\isacharparenleft}{\isasymUnion}\ {\isacharbraceleft}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ simp\isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
\isanewline
\isacommand{fun}\isamarkupfalse%
\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ {\isacharcolon}{\isacharcolon}\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property\ {\isasymRightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isachardoublequoteclose}\isanewline
\ \ \isakeyword{where}\isanewline
\ \ \ \ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isacharequal}\ {\isacharparenleft}{\isasymlambda}c{\isachardot}\ {\isacharparenleft}{\isasymnot}\ p\ c{\isacharparenright}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\isanewline
\isacommand{theorem}\isamarkupfalse%
\ {\isacharparenleft}\isakeyword{in}\ Protocol{\isacharparenright}\ n{\isacharunderscore}party{\isacharunderscore}safety\ {\isacharcolon}\isanewline
\ \ {\isachardoublequoteopen}{\isasymforall}\ {\isasymsigma}{\isacharunderscore}set{\isachardot}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t\isanewline
\ \ {\isasymlongrightarrow}\ finite\ {\isasymsigma}{\isacharunderscore}set\isanewline
\ \ {\isasymlongrightarrow}\ is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}\isanewline
\ \ {\isasymlongrightarrow}\ {\isacharparenleft}{\isasymforall}\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}\ p{\isachardot}\ {\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}\ {\isasymlongrightarrow}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
%
\isadelimproof
\ \ %
\endisadelimproof
%
\isatagproof
\isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharcomma}\ rule{\isacharparenright}\isanewline
\isacommand{proof}\isamarkupfalse%
\ {\isacharminus}\isanewline
\ \ \isacommand{fix}\isamarkupfalse%
\ {\isasymsigma}{\isacharunderscore}set\ {\isasymsigma}\ {\isasymsigma}{\isacharprime}\ p\isanewline
\ \ \isacommand{assume}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}finite\ {\isasymsigma}{\isacharunderscore}set{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}is{\isacharunderscore}faults{\isacharunderscore}lt{\isacharunderscore}threshold\ {\isacharparenleft}{\isasymUnion}{\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isachardoublequoteclose}\ \isakeyword{and}\ {\isachardoublequoteopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isachardoublequoteclose}\ \isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymexists}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ n{\isacharunderscore}party{\isacharunderscore}common{\isacharunderscore}futures{\isacharunderscore}exists\ \isacommand{by}\isamarkupfalse%
\ meson\isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{obtain}\isamarkupfalse%
\ {\isasymsigma}{\isacharprime}{\isacharprime}\ \isakeyword{where}\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isachardoublequoteclose}\ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ forward{\isacharunderscore}consistency\ \isacommand{by}\isamarkupfalse%
\ fastforce\isanewline
\ \ \isacommand{have}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ futures\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\ \isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}\ {\isacharbraceleft}futures\ {\isasymsigma}\ {\isacharbar}\ {\isasymsigma}{\isachardot}\ {\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharbraceright}{\isacartoucheclose}\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\isanewline
\ \ \ \ \isacommand{by}\isamarkupfalse%
\ auto\isanewline
\ \ \isacommand{hence}\isamarkupfalse%
\ {\isachardoublequoteopen}{\isasymnot}\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}state{\isacharunderscore}property{\isacharunderscore}not\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharparenright}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharparenright}{\isachardoublequoteclose}\isanewline
\ \ \ \ \ \ \isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ backword{\isacharunderscore}consistency\ {\isacartoucheopen}state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided\ {\isacharparenleft}naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property\ p{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharprime}{\isacharparenright}{\isacartoucheclose}\isanewline
\ \ \ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isacartoucheopen}{\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymSigma}t\ {\isasymand}\ {\isasymsigma}{\isacharprime}{\isacharprime}\ {\isasymin}\ {\isasymInter}{\isacharunderscore}Collect\ {\isacharparenleft}futures\ {\isasymsigma}{\isacharparenright}\ {\isacharparenleft}{\isasymsigma}\ {\isasymin}\ {\isasymsigma}{\isacharunderscore}set{\isacharparenright}{\isacartoucheclose}\ {\isacartoucheopen}{\isasymsigma}{\isacharunderscore}set\ {\isasymsubseteq}\ {\isasymSigma}t{\isacartoucheclose}\ {\isacartoucheopen}{\isacharbraceleft}{\isasymsigma}{\isacharcomma}\ {\isasymsigma}{\isacharprime}{\isacharbraceright}\ {\isasymsubseteq}\ {\isasymsigma}{\isacharunderscore}set\ {\isasymand}\ p\ {\isasymin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacartoucheclose}\ \isacommand{by}\isamarkupfalse%
\ auto\ \ \isanewline
\ \ \isacommand{then}\isamarkupfalse%
\ \isacommand{show}\isamarkupfalse%
\ {\isachardoublequoteopen}consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}not\ p\ {\isasymnotin}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions\ {\isasymsigma}{\isacharprime}{\isachardoublequoteclose}\isanewline
\ \ \ \ \isacommand{apply}\isamarkupfalse%
\ {\isacharparenleft}simp\ add{\isacharcolon}\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}decisions{\isacharunderscore}def\ consensus{\isacharunderscore}value{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def\ naturally{\isacharunderscore}corresponding{\isacharunderscore}state{\isacharunderscore}property{\isacharunderscore}def\ state{\isacharunderscore}property{\isacharunderscore}is{\isacharunderscore}decided{\isacharunderscore}def{\isacharparenright}\isanewline
\ \ \ \ \isacommand{using}\isamarkupfalse%
\ {\isasymSigma}t{\isacharunderscore}def\ estimates{\isacharunderscore}are{\isacharunderscore}non{\isacharunderscore}empty\ futures{\isacharunderscore}def\ \isacommand{by}\isamarkupfalse%
\ fastforce\ \ \ \isanewline
\isacommand{qed}\isamarkupfalse%
%
\endisatagproof
{\isafoldproof}%
%
\isadelimproof
\isanewline
%
\endisadelimproof
%
\isadelimtheory
\isanewline
%
\endisadelimtheory
%
\isatagtheory
\isacommand{end}\isamarkupfalse%
%
\endisatagtheory
{\isafoldtheory}%
%
\isadelimtheory
%
\endisadelimtheory
%
\end{isabellebody}%
\endinput
%:%file=~/work/LayerXcom/cbc-casper-proof/Isabelle/ConsensusSafety.thy%:%
%:%11=1%:%
%:%27=3%:%
%:%28=3%:%
%:%29=4%:%
%:%30=5%:%
%:%31=6%:%
%:%32=7%:%
%:%37=7%:%
%:%40=8%:%
%:%41=9%:%
%:%42=10%:%
%:%43=11%:%
%:%44=12%:%
%:%45=13%:%
%:%46=13%:%
%:%47=14%:%
%:%48=15%:%
%:%49=16%:%
%:%50=17%:%
%:%51=18%:%
%:%52=18%:%
%:%53=19%:%
%:%54=20%:%
%:%57=21%:%
%:%61=21%:%
%:%62=21%:%
%:%63=21%:%
%:%68=21%:%
%:%71=22%:%
%:%72=23%:%
%:%73=24%:%
%:%74=24%:%
%:%75=25%:%
%:%77=27%:%
%:%80=28%:%
%:%84=28%:%
%:%85=28%:%
%:%86=28%:%
%:%87=29%:%
%:%88=29%:%
%:%93=29%:%
%:%96=30%:%
%:%97=31%:%
%:%98=32%:%
%:%99=32%:%
%:%100=33%:%
%:%103=36%:%
%:%106=37%:%
%:%110=37%:%
%:%111=37%:%
%:%112=37%:%
%:%113=38%:%
%:%114=38%:%
%:%119=38%:%
%:%122=39%:%
%:%123=40%:%
%:%124=40%:%
%:%125=41%:%
%:%128=44%:%
%:%131=45%:%
%:%135=45%:%
%:%136=45%:%
%:%137=45%:%
%:%138=46%:%
%:%139=46%:%
%:%144=46%:%
%:%147=47%:%
%:%148=48%:%
%:%149=49%:%
%:%150=50%:%
%:%151=51%:%
%:%152=52%:%
%:%153=52%:%
%:%154=53%:%
%:%155=54%:%
%:%156=55%:%
%:%157=56%:%
%:%158=57%:%
%:%159=57%:%
%:%160=58%:%
%:%163=61%:%
%:%166=62%:%
%:%170=62%:%
%:%171=62%:%
%:%172=63%:%
%:%173=63%:%
%:%178=63%:%
%:%181=64%:%
%:%182=65%:%
%:%183=66%:%
%:%184=66%:%
%:%185=67%:%
%:%186=68%:%
%:%187=69%:%
%:%188=70%:%
%:%189=70%:%
%:%190=71%:%
%:%193=74%:%
%:%196=75%:%
%:%200=75%:%
%:%201=75%:%
%:%202=76%:%
%:%203=76%:%
%:%208=76%:%
%:%211=77%:%
%:%212=78%:%
%:%213=79%:%
%:%214=79%:%
%:%215=80%:%
%:%217=82%:%
%:%220=83%:%
%:%224=83%:%
%:%225=83%:%
%:%226=84%:%
%:%227=84%:%
%:%228=85%:%
%:%229=85%:%
%:%234=85%:%
%:%237=86%:%
%:%238=87%:%
%:%239=88%:%
%:%240=88%:%
%:%241=89%:%
%:%242=90%:%
%:%243=91%:%
%:%244=92%:%
%:%245=93%:%
%:%246=93%:%
%:%247=94%:%
%:%248=95%:%
%:%249=96%:%
%:%250=97%:%
%:%251=98%:%
%:%252=98%:%
%:%253=99%:%
%:%254=100%:%
%:%255=101%:%
%:%256=102%:%
%:%257=103%:%
%:%258=103%:%
%:%259=104%:%
%:%262=107%:%
%:%265=108%:%
%:%269=108%:%
%:%270=108%:%
%:%271=109%:%
%:%272=109%:%
%:%273=110%:%
%:%274=110%:%
%:%275=111%:%
%:%276=111%:%
%:%277=112%:%
%:%278=113%:%
%:%279=114%:%
%:%280=114%:%
%:%281=115%:%
%:%282=115%:%
%:%283=115%:%
%:%284=116%:%
%:%285=116%:%
%:%286=117%:%
%:%287=117%:%
%:%288=118%:%
%:%289=118%:%
%:%290=119%:%
%:%291=119%:%
%:%292=120%:%
%:%293=120%:%
%:%294=121%:%
%:%295=121%:%
%:%296=122%:%
%:%297=122%:%
%:%298=123%:%
%:%299=123%:%
%:%300=124%:%
%:%301=124%:%
%:%302=125%:%
%:%303=125%:%
%:%304=126%:%
%:%305=126%:%
%:%306=127%:%
%:%307=127%:%
%:%308=127%:%
%:%309=128%:%
%:%310=128%:%
%:%311=129%:%
%:%312=129%:%
%:%313=129%:%
%:%314=130%:%
%:%315=130%:%
%:%316=131%:%
%:%317=131%:%
%:%318=131%:%
%:%319=132%:%
%:%320=132%:%
%:%321=133%:%
%:%322=133%:%
%:%323=134%:%
%:%324=134%:%
%:%325=135%:%
%:%326=135%:%
%:%327=136%:%
%:%328=136%:%
%:%329=137%:%
%:%330=137%:%
%:%331=138%:%
%:%337=138%:%
%:%340=139%:%
%:%341=140%:%
%:%342=141%:%
%:%343=142%:%
%:%344=143%:%
%:%345=143%:%
%:%346=144%:%
%:%347=145%:%
%:%348=146%:%
%:%349=147%:%
%:%350=148%:%
%:%351=148%:%
%:%352=149%:%
%:%353=150%:%
%:%354=151%:%
%:%355=152%:%
%:%356=153%:%
%:%357=153%:%
%:%358=154%:%
%:%359=155%:%
%:%362=156%:%
%:%366=156%:%
%:%367=156%:%
%:%368=157%:%
%:%369=157%:%
%:%370=158%:%
%:%371=158%:%
%:%372=159%:%
%:%373=159%:%
%:%374=160%:%
%:%375=161%:%
%:%376=162%:%
%:%377=162%:%
%:%378=163%:%
%:%379=163%:%
%:%380=163%:%
%:%381=164%:%
%:%382=165%:%
%:%383=166%:%
%:%384=166%:%
%:%385=167%:%
%:%386=167%:%
%:%387=167%:%
%:%388=168%:%
%:%389=169%:%
%:%390=170%:%
%:%391=170%:%
%:%392=171%:%
%:%393=171%:%
%:%394=171%:%
%:%395=172%:%
%:%396=173%:%
%:%397=174%:%
%:%398=174%:%
%:%399=175%:%
%:%400=175%:%
%:%401=175%:%
%:%402=176%:%
%:%403=177%:%
%:%404=178%:%
%:%405=178%:%
%:%406=179%:%
%:%407=179%:%
%:%408=179%:%
%:%409=180%:%
%:%410=181%:%
%:%411=182%:%
%:%412=182%:%
%:%413=182%:%
%:%414=183%:%
%:%415=183%:%
%:%416=183%:%
%:%417=184%:%
%:%418=185%:%
%:%419=186%:%
%:%420=186%:%
%:%421=187%:%
%:%427=187%:%
%:%430=188%:%
%:%431=189%:%
%:%432=190%:%
%:%433=190%:%
%:%434=191%:%
%:%435=192%:%
%:%436=193%:%
%:%437=194%:%
%:%438=195%:%
%:%439=196%:%
%:%440=196%:%
%:%441=197%:%
%:%442=198%:%
%:%443=199%:%
%:%444=200%:%
%:%445=201%:%
%:%446=201%:%
%:%447=202%:%
%:%450=205%:%
%:%453=206%:%
%:%457=206%:%
%:%458=206%:%
%:%459=207%:%
%:%460=207%:%
%:%461=208%:%
%:%462=208%:%
%:%463=209%:%
%:%464=209%:%
%:%465=210%:%
%:%466=211%:%
%:%467=212%:%
%:%468=212%:%
%:%469=213%:%
%:%470=213%:%
%:%471=213%:%
%:%472=214%:%
%:%473=214%:%
%:%474=215%:%
%:%475=215%:%
%:%476=216%:%
%:%477=216%:%
%:%478=217%:%
%:%479=217%:%
%:%480=218%:%
%:%481=218%:%
%:%482=219%:%
%:%483=219%:%
%:%484=220%:%
%:%485=220%:%
%:%486=221%:%
%:%487=221%:%
%:%488=222%:%
%:%489=222%:%
%:%490=223%:%
%:%491=223%:%
%:%492=224%:%
%:%493=224%:%
%:%494=225%:%
%:%495=225%:%
%:%496=226%:%
%:%497=226%:%
%:%498=227%:%
%:%499=227%:%
%:%500=228%:%
%:%501=228%:%
%:%502=229%:%
%:%503=229%:%
%:%504=230%:%
%:%505=231%:%
%:%506=231%:%
%:%507=232%:%
%:%513=232%:%
%:%516=233%:%
%:%517=234%:%
%:%518=234%:%
%:%519=235%:%
%:%520=236%:%
%:%521=237%:%
%:%522=238%:%
%:%523=238%:%
%:%524=239%:%
%:%527=242%:%
%:%530=243%:%
%:%534=243%:%
%:%535=243%:%
%:%536=244%:%
%:%537=244%:%
%:%538=245%:%
%:%539=245%:%
%:%540=246%:%
%:%541=246%:%
%:%542=247%:%
%:%543=247%:%
%:%544=248%:%
%:%545=248%:%
%:%546=248%:%
%:%547=249%:%
%:%548=249%:%
%:%549=249%:%
%:%550=249%:%
%:%551=250%:%
%:%552=250%:%
%:%553=251%:%
%:%554=251%:%
%:%555=252%:%
%:%556=252%:%
%:%557=252%:%
%:%558=253%:%
%:%559=253%:%
%:%560=254%:%
%:%561=254%:%
%:%562=255%:%
%:%563=255%:%
%:%564=256%:%
%:%565=256%:%
%:%566=257%:%
%:%567=258%:%
%:%568=258%:%
%:%569=259%:%
%:%570=259%:%
%:%571=259%:%
%:%572=260%:%
%:%573=260%:%
%:%574=260%:%
%:%575=261%:%
%:%576=261%:%
%:%577=262%:%
%:%578=262%:%
%:%579=262%:%
%:%580=263%:%
%:%586=263%:%
%:%591=264%:%
%:%596=265%:%